# ポッドキャスト台本生成プロンプト仕様書（検証トーク番組版・感情表現強化・修正版 + callout追加・完全版）

## 0. 目的

* 提供された **YouTube動画URL** と **report.txt（文字起こし）** の内容に**厳密準拠**して、対話形式のPODCAST台本を生成する。
* キャラクターの個性・感情（同調、肯定、否定、分かったフリ、軽い不満、自己訂正、指摘への反応など）が**セリフの言葉遣いとして自然に出る**こと。
* 専門知識がないリスナーにも分かりやすく、かつ深い検証トークを展開する（ただし推測・創作で穴埋めしない）。

---

## 1. 対象番組

* Podcast名

  * タイトル: **検証ラジオ：ウワサの正体**
  * サブタイトル: **ミステリー＆サイエンス**

---

## 2. 入力（必須）

1. YouTube動画URL（1本）
2. report.txt（上記動画の文字起こしデータ）

### 2.1 禁止（入力不足時）

* report.txt が無い／動画URLが無効（伏せ字等）で内容が検証できない場合、**台本を生成しない**。

  * この場合は「不足している入力（report.txt 等）を求める」短い応答のみ行う。

---

## 3. 出力形式（厳密）

出力は **JSONオブジェクト**（1つ）で、トップレベルに `script` と `youtube` を持つ。

```json
{
  "script": [ /* 要素の配列 */ ],
  "youtube": { /* メタデータ */ }
}
```

---

## 4. `script` 配列の要素タイプ（3種類）

`script` は **時系列順**の配列。要素は以下のいずれか。

### A) Dialogue要素（喋る行）

**必須キー**

* `id` : string（発言者ID）
* `text`: string（読み上げるセリフ）
* `img` : string（その行に対応する画像生成用の短い説明）

**任意キー**

* `callout`: string（On-screen Big Text。※ルールは後述）

```json
{ "id": "1937616896", "text": "なるほど。じゃあ、この話の前提を一回そろえましょう。", "img": "podcast studio, host pointing to notes", "callout": "前提を一回そろえましょう" }
```

### B) Section要素（区切り）

* `section`: string（セクションタイトル）
* `se`: string（固定値） **"ピアノの単音.mp3"**

```json
{ "section": "今日の検証ポイント", "se": "ピアノの単音.mp3" }
```

### C) insert_video要素（動画挿入）

* `startTime`: string（例 `"1:00"` / `"12:34"` / `"1:02:03"`）
* `endTime`: string（同形式）
* `insert_video`: boolean（必ず `true`）

```json
{ "startTime": "1:00", "endTime": "2:00", "insert_video": true }
```

---

## 5. テキスト（`text`）の絶対ルール（Hard Requirements）

1. **事実無根の架空の話を作らない**

   * report.txt と検証済みソースから裏取りできない事実（人物名・会社名・数字・発言内容・出来事）を追加しない。
2. **セリフにURL/コード/読み上げにくい長文英語を入れない**

   * 必要なら「詳しくは概要欄をご覧ください」と誘導する（ただし概要欄に入れるURLは `youtube.description` 側）。
3. **絵文字禁止**
4. **感情/舞台指示タグ禁止**

   * `(shocked)`, `[laughs]` 等の**タグ形式**は禁止。
   * 感情はセリフの言葉選びで表現する。
5. **括弧による補足説明は禁止**（読み上げを邪魔するため）

   * 例外は **心の声表現**のみ（後述）。
6. **TTSの読み間違いを避ける**

   * 例: 「怪しい」は **「あやしい」** のように **ひらがな**で書く。
   * 同様に、読みが割れやすい漢字は可能な限りひらがなにする（例: 生、上手、明日、等が文脈で割れそうならひらがな優先）。
7. **心の声の表現（内部モノローグ）**

   * `text` 内に `{{...}}` を埋め込んで表現する（※丸括弧は使わない）。
   * 例: `それ、筋は通ってますね。{{でも証拠はどこ}}`

---

## 6. `img` のルール

* 画像生成や編集指示に使える **短い説明文**（1フレーズ）にする。
* 絵文字禁止、URL禁止。
* `text` の内容と矛盾しない（勝手に登場人物や固有名詞を増やさない）。

---

## 7. `callout` 仕様書（On-screen Big Text）【追加要素・完全版】

### 7.1 目的

`callout` は **字幕/TTSの `text` とは別に**、編集で「画面に大きく出す短文」を指定するフィールド。
「ここだけ視聴者の記憶に残したい」瞬間だけ使う。

### 7.2 適用対象

* **Dialogue要素（喋る行）にのみ付与可能**
* **Section要素（`{section,se}`）には付与禁止**
* **insert_video要素にも付与禁止**

### 7.3 データ型

* `callout`: **string**

### 7.4 絶対ルール（Hard Requirements）

1. **`callout` は同じ要素の `text` の「完全一致の部分文字列（verbatim substring）」でなければならない**

   * 単語を追加・言い換え・要約はNG
   * 句読点の削除はOK（必要なら）
2. **1行のみ**

   * 改行（`\n`）を含めない
3. **短く**

   * 推奨: **2〜6 words**（英語の場合）
   * もしくは **最大32文字**
4. **禁止事項**

   * 絵文字禁止
   * 感情/舞台指示タグ禁止（`(shocked)`, `[laughs]` など）
   * URL禁止
5. 固有名詞の扱い

   * `text` と同様に **report.txt と検証済みソースで裏取りできるものだけ**
   * 勝手に会社名・人物名・製品名を足さない

### 7.5 推奨運用（Anti-spam）

* `short`（30–60秒）: **callout 合計 0〜1**
* `standard`（3–6分）: **callout 合計 2〜6**
* 長尺（本仕様の240分級）でも **毎行に付けない**（ピークだけ）

### 7.6 表示・継続ルール（編集側の解釈）

* calloutは **その行から次の callout が出る直前まで表示され続ける想定**
* 画面の大文字を切り替えたい時だけ、新しい callout を置く

### 7.7 実装チェックリスト（生成/検証の最低条件）

* `callout` を付けた要素が **Dialogue要素**である（`id` と `text` を持つ）
* `callout` が **`text` の部分文字列**として一致する（大小文字・スペース含め一致推奨）
* `callout` に改行がない
* 32文字以内（または2〜6 words目安）
* 絵文字・括弧タグ・URLが入っていない
* 使いすぎていない

### 7.8 OK例

```json
{ "id": "1937616896", "text": "結論です。これは勘ちがいが広がったパターンです。根拠を一回たどりましょう。", "img": "host serious, minimal studio background", "callout": "根拠を一回たどりましょう" }
```

### 7.9 NG例（理由つき）

```json
{ "id": "1937616896", "text": "これは勘ちがいです。", "img": "warning", "callout": "デマです" }
```

* NG理由: `デマです` は `text` に存在しない（部分文字列ではない）

```json
{ "id": "1937616896", "text": "これは勘ちがいです。", "img": "warning", "callout": "これは勘ちがいです。\n落ち着いて" }
```

* NG理由: 改行あり

```json
{ "id": "1937616896", "text": "これは勘ちがいです。", "img": "warning", "callout": "(shocked) 勘ちがい" }
```

* NG理由: 感情タグ（括弧）あり

---

## 8. 登場人物（固定）

### ホスト：水野 カイ（ID: 1937616896）

* 35歳 / ドキュメンタリー系の制作者、スタジオ「ミズノワークス」主宰
* 落ち着いた口調だが要点は早い。「整理します」「そこ、根拠はどこですか？」「いったん文脈を戻しましょう」
* 分かりやすさ重視。あいまいな言い回しが出たら定義をそろえる
* 時々、話を急に図解っぽくまとめたがる
* 間違いを指摘されると即座に言い直す
* 犬が好き（話の流れに無理がない範囲で反応してよい）

### ゲスト（トピックに合わせてAIが選定：A/B/Cから1名以上）

* ゲストA：難波 ヨウ（ID: 532977856）

  * 職業: 検証系メディアの編集者、現場取材もする
  * くだけた話し方で同調多め、「要するに」「まあでも」など
  * 体験談に寄りがちなので、話が飛んだら自分で戻ろうとする
* ゲストB：白石 リナ（ID: 606865152）

  * 職業: 大学院で統計と心理計測を学ぶ研究補助員
  * 冷静沈着・論理的。矛盾やサンプル不足を指摘する
  * 「その話、どこまで文字起こしに書いてありますか？」等
* ゲストC：鬼塚 レン（ID: 1275216064）

  * 職業: 事業家、発信者、コミュニティ運営者など多岐にわたる（自称含む）
  * 愛称: レンさん（「レンさん」と呼ばれることが多い）
  * 大胆で断定的。インパクト重視のまとめに寄る
  * 指摘されると軽くムキになることも。口癖は全体で合計2回まで

---

## 9. 台本の尺（長さ）

* **最低400ターン以上**（ホスト＋ゲストの総ターン数）
* 全体として **約240分程度**の内容密度を想定
* 各ターンは薄い相づちだけで終わらず、具体的な検証・意見交換・説明・反論・整理を含める

---

## 10. 話の流れ（必須構成）

### 10.1 挨拶（冒頭）

* ホストがテンポよく開始
* **今日の日付（年月日時分・日本時間）** を言う

  * ただし、入力から確実に言えない場合は「今の時刻です」と断定せず、言い回しを調整して嘘を作らない
* **天気紹介**

  * report.txt もしくはユーザー提供情報に無い場合、天気を断定しない（例: 「天気はこのあと確認して概要欄にまとめます」）
* ゲスト紹介

  * 「検証ラジオ、今日も始まりました。ホストのカイです。今日のゲストは〜」の系統

### 10.2 冒頭の引き（約5ターン目安）

* 今回トピックの **いちばん疑問が残る核心の手前**まで見せて、詳細は伏せる
* 期待感を作る（核心はぼかすが、キーワードは出す）

### 10.3 チャンネル登録の促し（必須）

* 文言例（読み上げ向けに自然に調整可）

  * 「このポッドキャストでは、ウワサや主張を文字起こしベースで整理して検証しています。まだチャンネル登録をされていない方は、ぜひ登録して次の検証も聞いてください」

### 10.4 オープニング雑談（必須）

* 近況や軽い小ネタに触れる（ただし、**report.txt等に根拠が無い時事ネタは断定しない**）
* 価値観のぶつかりはOKだが、**事実の創作はNG**

### 10.5 本題（詳細議論）

* report.txt の内容を「引用・要約・ツッコミ・質問」で深掘り
* キャラ差の化学反応を出す

  * 同調／反論／分かったフリ／軽い不満／自己訂正／指摘と反応
* 専門語は噛み砕く（ホストが「つまりこういう意味ですか？」を入れる）
* **記事/動画内容の引用**

  * 「ここで〜という言い方が出ましたが、どう受け取りますか？」の形で具体内容を会話へ織り込む（report.txtの範囲内）

### 10.6 クイズと間違い（必須）

* ホストが唐突にクイズ
* ゲストは **あえて間違える**
* ホストが軽く「ぶっぶ〜！残念、ちがいます」→正解を説明

### 10.7 話題転換へのツッコミ（必須）

* ホスト（またはゲスト）が急に話を変えたら、別キャラが軽く触れる

  * 例: 「いま急に話が飛びましたね」など（自然に）

### 10.8 自己訂正（必須）

* 誰かが一度誤りを言い、後で

  * 「あ、すみません、さっき〇〇と言いましたけど、よく見たら△△でした。失礼しました。」
    を入れる（※嘘の訂正ではなく、report.txt範囲の読み違い等として成立させる）

### 10.9 他者からの指摘と反応（必須）

* 別キャラが穏やか or 鋭く指摘
* 指摘された側が驚き／納得／軽い反発などで反応

### 10.10 健康リマインド（必須）

* 座り仕事のリスナーに向けて

  * 「2時間に1回は休憩＆ストレッチ」
  * 「自分の肩を自分で揉むのはセルフマッサージとして有効」
    を、断定しすぎない自然な言い回しで促す
* 240分想定なので、**少なくとも2回以上**は入れる（目安：開始〜60分、120分付近など）

### 10.11 結論・まとめ（必須）

* ホストが要点整理
* ゲストが総括と展望
* 「チャンネル登録」「高評価」をさらっと（MCとゲストで分担しても良い）
* エンディングはやや丁寧・長め
* レンさん風締めは可

  * 「それでは皆さん、また次回。レンさん風に言うなら…自分の頭で確認していきましょう」等

---

## 11. insert_video の運用ルール（必須）

* report.txt の該当箇所に基づき、**最低3回以上** `insert_video` を入れる
* それぞれ **別の区間**を指定する（同じ時間帯の繰り返しは避ける）
* `insert_video` の前後に、会話で前振り／リアクションを必ず入れる

  * 例:

    * `{ "id": "...", "text": "じゃあ、当該の発言が出るところをそのまま流します。", "img": "host cue, studio mic" }`
    * `{ "startTime": "1:00", "endTime": "2:00", "insert_video": true }`
    * `{ "id": "...", "text": "なるほど、言い回しが強いですね。ここは解釈が割れそうです。", "img": "guest thinking, headphones" }`

---

## 12. YouTube情報（`youtube`）の生成ルール

`youtube` は以下のキーを持つ。

* `title`: string（SEOを意識しつつ誇張しすぎない）
* `description`: string（概要、トピック、出演者、**引用元のタイトルとURL**を必ず含む）
* `tags`: string（`#`なし、**半角カンマ区切り**）
* `category`: string（YouTubeカテゴリID。例: `"27"` は教育）

```json
"youtube": {
  "title": "…",
  "description": "…\n\n引用元:\n- （動画タイトル）: （URL）\n- （他ソースがreport.txtに明記されている場合のみ列挙）",
  "tags": "検証,都市伝説,科学,批判的思考,情報リテラシー,ミステリー",
  "category": "27"
}
```

### 重要

* `description` の引用元は **架空は禁止**
* report.txt に明記された記事名・媒体名・日付・URLがある場合のみ追加してよい
* なければ **YouTube動画（今回のURL）だけ**を引用元として記載する

---

## 13. 推敲（必須）

生成後に1回だけ全体を見直し、以下を修正してから最終出力する。

* キャラクター口調のブレ
* 事実逸脱（report.txt外の断定）
* 誤字脱字
* callout違反（部分文字列不一致、長すぎ、付けすぎ等）
* insert_video 回数不足

---

## 14. 最終検証チェックリスト（最低条件）

* 出力が **JSONオブジェクト**で、`script` と `youtube` を持つ
* `script` は配列で、要素が（Dialogue/Section/insert_video）のいずれか
* Dialogueは `id`,`text`,`img` を必ず持つ
* Sectionは `section`,`se`（`se`は固定値）
* insert_videoは `startTime`,`endTime`,`insert_video:true`
* **insert_video が3回以上**
* **400ターン以上**
* 絵文字なし、URL/コードなし（`youtube.description` の引用元URLは例外）
* 感情タグなし（括弧タグ等）
* `{{心の声}}` 以外の括弧補足なし
* `callout` はDialogueのみ、部分文字列一致、短い、改行なし、付けすぎなし

---

## 15. 生成対象（ユーザー提供）

* 対象動画URL: `https://www.youtube.com/watch?v=■■■■■■■■■■■■`
* report.txt:（ユーザー提供の文字起こし）

> ※上記URLが伏せ字のまま、またはreport.txt未提供の場合は台本を生成しない。
